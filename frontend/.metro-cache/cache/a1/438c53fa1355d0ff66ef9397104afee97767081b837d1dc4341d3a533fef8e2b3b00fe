{"dependencies":[{"name":"react-native-worklets","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":14},"end":{"line":2,"column":48,"index":62}}],"key":"upgdvla269Vpw38V/0PgHoMDZsA=","exportNames":["*"],"imports":1}},{"name":"./common","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":64},"end":{"line":4,"column":35,"index":99}}],"key":"T3X1rGrsueEhPeOGTLhHRm6Tz+4=","exportNames":["*"],"imports":1}},{"name":"./isSharedValue","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":10,"column":0,"index":189},"end":{"line":10,"column":48,"index":237}}],"key":"4GvsAaNC2OU71XMPPfpzkxeW9tk=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,'__esModule',{value:!0}),e.startMapper=function(p){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],c=o+=1;return(0,t.runOnUI)((function(t){var p=t._worklet_9660765174658_init_data,s=t.createMapperRegistry,n=t.mapperID,o=t.worklet,u=t.inputs,f=t.outputs,c=function(){var t=g.__mapperRegistry;void 0===t&&(t=g.__mapperRegistry=s()),t.start(n,o,u,f)};return c.__closure={createMapperRegistry:s,mapperID:n,worklet:o,inputs:u,outputs:f},c.__workletHash=9660765174658,c.__initData=p,c})({_worklet_9660765174658_init_data:u,createMapperRegistry:n,mapperID:c,worklet:p,inputs:s,outputs:f}))(),c},e.stopMapper=function(p){(0,t.runOnUI)((function(t){var p=t._worklet_7172044021294_init_data,s=t.mapperID,n=function(){var t=g.__mapperRegistry;t?.stop(s)};return n.__closure={mapperID:s},n.__workletHash=7172044021294,n.__initData=p,n})({_worklet_7172044021294_init_data:f,mapperID:p}))()};var t=r(d[0]),p=r(d[1]),s=r(d[2]),n=(function(t){var p=t._worklet_10917204099484_init_data,s=t.IS_JEST,n=t.isSharedValue,o=function(){var t=new Map,p=[],o=!1,u=!1;function f(){var s=new Map;t.forEach(t=>{if(t.outputs)for(var p of t.outputs){var n=s.get(p);void 0===n?s.set(p,[t]):n.push(t)}});var n=new Set,o=[];function u(t){for(var p of(n.add(t),t.inputs)){var f=s.get(p);if(f)for(var c of f)n.has(c)||u(c)}o.push(t)}t.forEach(t=>{n.has(t)||u(t)}),p=o}function c(){if(o=!1,!u)try{for(var s of(u=!0,t.size!==p.length&&f(),p))s.dirty&&(s.dirty=!1,s.worklet())}finally{u=!1}}function l(){s?c():o||(u?requestAnimationFrame(c):queueMicrotask(c),o=!0)}function _(t,p){if(Array.isArray(t))for(var s of t)s&&_(s,p);else if(n(t))p.push(t);else if(Object.getPrototypeOf(t)===Object.prototype)for(var o of Object.values(t))o&&_(o,p);return p}return{start:(s,n,o,u)=>{var f={id:s,dirty:!0,worklet:n,inputs:_(o,[]),outputs:u};for(var c of(t.set(f.id,f),p=[],f.inputs))c.addListener(f.id,()=>{f.dirty=!0,l()});l()},stop:s=>{var n=t.get(s);if(n)for(var o of(t.delete(n.id),p=[],n.inputs))o.removeListener(n.id)}}};return o.__closure={IS_JEST:s,isSharedValue:n},o.__workletHash=0x9eddc12819c,o.__initData=p,o})({_worklet_10917204099484_init_data:{code:\"function createMapperRegistry_reactNativeReanimated_mappersTs1(){const{IS_JEST,isSharedValue}=this.__closure;const mappers=new Map();let sortedMappers=[];let runRequested=false;let processingMappers=false;function updateMappersOrder(){const pre=new Map();mappers.forEach(function(mapper){if(mapper.outputs){for(const output of mapper.outputs){const preMappers=pre.get(output);if(preMappers===undefined){pre.set(output,[mapper]);}else{preMappers.push(mapper);}}}});const visited=new Set();const newOrder=[];function dfs(mapper){visited.add(mapper);for(const input of mapper.inputs){const preMappers=pre.get(input);if(preMappers){for(const preMapper of preMappers){if(!visited.has(preMapper)){dfs(preMapper);}}}}newOrder.push(mapper);}mappers.forEach(function(mapper){if(!visited.has(mapper)){dfs(mapper);}});sortedMappers=newOrder;}function mapperRun(){runRequested=false;if(processingMappers){return;}try{processingMappers=true;if(mappers.size!==sortedMappers.length){updateMappersOrder();}for(const mapper of sortedMappers){if(mapper.dirty){mapper.dirty=false;mapper.worklet();}}}finally{processingMappers=false;}}function maybeRequestUpdates(){if(IS_JEST){mapperRun();}else if(!runRequested){if(processingMappers){requestAnimationFrame(mapperRun);}else{queueMicrotask(mapperRun);}runRequested=true;}}function extractInputs(inputs,resultArray){if(Array.isArray(inputs)){for(const input of inputs){if(input){extractInputs(input,resultArray);}}}else if(isSharedValue(inputs)){resultArray.push(inputs);}else if(Object.getPrototypeOf(inputs)===Object.prototype){for(const element of Object.values(inputs)){if(element){extractInputs(element,resultArray);}}}return resultArray;}return{start:function(mapperID,worklet,inputs,outputs){const mapper={id:mapperID,dirty:true,worklet:worklet,inputs:extractInputs(inputs,[]),outputs:outputs};mappers.set(mapper.id,mapper);sortedMappers=[];for(const sv of mapper.inputs){sv.addListener(mapper.id,function(){mapper.dirty=true;maybeRequestUpdates();});}maybeRequestUpdates();},stop:function(mapperID){const mapper=mappers.get(mapperID);if(mapper){mappers.delete(mapper.id);sortedMappers=[];for(const sv of mapper.inputs){sv.removeListener(mapper.id);}}}};}\"},IS_JEST:p.IS_JEST,isSharedValue:s.isSharedValue}),o=9999,u={code:\"function reactNativeReanimated_mappersTs2(){const{createMapperRegistry,mapperID,worklet,inputs,outputs}=this.__closure;let mapperRegistry=global.__mapperRegistry;if(mapperRegistry===undefined){mapperRegistry=global.__mapperRegistry=createMapperRegistry();}mapperRegistry.start(mapperID,worklet,inputs,outputs);}\"};var f={code:\"function reactNativeReanimated_mappersTs3(){const{mapperID}=this.__closure;const mapperRegistry=global.__mapperRegistry;mapperRegistry===null||mapperRegistry===void 0||mapperRegistry.stop(mapperID);}\"}});","lineCount":1,"map":[[1,28,1,0],[1,41,1,13,"Object"],[1,48,1,13,"defineProperty"],[1,63,1,13,"e"],[1,65,1,13],[1,79,1,13,"value"],[1,86,1,13],[1,90,203,0,"e"],[1,92,203,0,"startMapper"],[1,104,203,7],[1,113,204,2,"worklet"],[1,116,207,10],[1,120,205,2,"inputs"],[1,122,205,25,"arguments"],[1,132,205,25,"length"],[1,139,205,25],[1,147,205,25,"undefined"],[1,151,205,25,"arguments"],[1,161,205,25],[1,164,205,25,"arguments"],[1,174,205,25],[1,177,205,28],[1,180,206,2,"outputs"],[1,182,206,24,"arguments"],[1,192,206,24,"length"],[1,199,206,24],[1,207,206,24,"undefined"],[1,211,206,24,"arguments"],[1,221,206,24],[1,224,206,24,"arguments"],[1,234,206,24],[1,237,206,27],[1,240,208,8,"mapperID"],[1,242,208,20,"MAPPER_ID"],[1,245,208,33],[1,247,218,2],[1,254,210,2],[1,256,210,2,"runOnUI"],[1,258,210,9,"runOnUI"],[1,268,210,10],[1,277,210,10,"_ref2"],[1,280,210,10],[1,284,210,10,"_worklet_9660765174658_init_data"],[1,286,210,10,"_ref2"],[1,288,210,10,"_worklet_9660765174658_init_data"],[1,321,213,49,"createMapperRegistry"],[1,323,213,69,"_ref2"],[1,325,213,49,"createMapperRegistry"],[1,346,215,25,"mapperID"],[1,348,215,33,"_ref2"],[1,350,215,25,"mapperID"],[1,359,215,35,"worklet"],[1,361,215,42,"_ref2"],[1,363,215,35,"worklet"],[1,371,215,44,"inputs"],[1,373,215,50,"_ref2"],[1,375,215,44,"inputs"],[1,382,215,52,"outputs"],[1,384,215,59,"_ref2"],[1,386,215,52,"outputs"],[1,394,215,59,"reactNativeReanimated_mappersTs2"],[1,396,215,59],[1,407,211,4],[1,411,211,8,"mapperRegistry"],[1,413,211,25,"global"],[1,415,211,32,"__mapperRegistry"],[1,437,212,27,"undefined"],[1,441,212,8,"mapperRegistry"],[1,445,213,6,"mapperRegistry"],[1,447,213,23,"global"],[1,449,213,30,"__mapperRegistry"],[1,466,213,49,"createMapperRegistry"],[1,471,215,4,"mapperRegistry"],[1,473,215,19,"start"],[1,479,215,25,"mapperID"],[1,481,215,35,"worklet"],[1,483,215,44,"inputs"],[1,485,215,52,"outputs"],[1,487,216,2],[1,489,215,59],[1,496,216,3,"reactNativeReanimated_mappersTs2"],[1,498,216,3,"__closure"],[1,508,216,3],[1,509,213,49,"createMapperRegistry"],[1,532,215,25,"mapperID"],[1,543,215,35,"worklet"],[1,553,215,44,"inputs"],[1,562,215,52,"outputs"],[1,573,215,59,"reactNativeReanimated_mappersTs2"],[1,575,215,59,"__workletHash"],[1,589,215,59],[1,603,215,59,"reactNativeReanimated_mappersTs2"],[1,605,215,59,"__initData"],[1,616,215,59,"_worklet_9660765174658_init_data"],[1,618,215,59,"reactNativeReanimated_mappersTs2"],[1,619,215,59],[1,621,210,10],[1,623,210,10,"_worklet_9660765174658_init_data"],[1,658,213,49,"createMapperRegistry"],[1,681,215,25,"mapperID"],[1,692,215,35,"worklet"],[1,702,215,44,"inputs"],[1,711,215,52,"outputs"],[1,723,210,2],[1,726,218,9,"mapperID"],[1,727,219,0],[1,729,221,0,"e"],[1,731,221,0,"stopMapper"],[1,742,221,7],[1,751,221,27,"mapperID"],[1,755,222,2],[1,757,222,2,"runOnUI"],[1,759,222,9,"runOnUI"],[1,769,222,10],[1,778,222,10,"_ref3"],[1,781,222,10],[1,785,222,10,"_worklet_7172044021294_init_data"],[1,787,222,10,"_ref3"],[1,789,222,10,"_worklet_7172044021294_init_data"],[1,822,224,25,"mapperID"],[1,824,224,33,"_ref3"],[1,826,224,25,"mapperID"],[1,835,224,33,"reactNativeReanimated_mappersTs3"],[1,837,224,33],[1,848,223,4],[1,852,223,10,"mapperRegistry"],[1,854,223,27,"global"],[1,856,223,34,"__mapperRegistry"],[1,873,224,4,"mapperRegistry"],[1,876,224,20,"stop"],[1,881,224,25,"mapperID"],[1,883,225,2],[1,885,224,33],[1,892,225,3,"reactNativeReanimated_mappersTs3"],[1,894,225,3,"__closure"],[1,904,225,3],[1,905,224,25,"mapperID"],[1,917,224,33,"reactNativeReanimated_mappersTs3"],[1,919,224,33,"__workletHash"],[1,933,224,33],[1,947,224,33,"reactNativeReanimated_mappersTs3"],[1,949,224,33,"__initData"],[1,960,224,33,"_worklet_7172044021294_init_data"],[1,962,224,33,"reactNativeReanimated_mappersTs3"],[1,963,224,33],[1,965,222,10],[1,967,222,10,"_worklet_7172044021294_init_data"],[1,1002,224,25,"mapperID"],[1,1015,222,2],[1,1017,226,0],[1,1019,2,0],[1,1023,2,0,"_reactNativeWorklets"],[1,1025,2,0,"r"],[1,1027,2,0,"d"],[1,1029,2,0],[1,1033,4,0,"_common"],[1,1035,4,0,"r"],[1,1037,4,0,"d"],[1,1039,4,0],[1,1043,10,0,"_isSharedValue"],[1,1045,10,0,"r"],[1,1047,10,0,"d"],[1,1049,10,0],[1,1053,10,48,"createMapperRegistry"],[1,1056,22,0],[1,1065,22,0,"_ref"],[1,1068,22,0],[1,1072,22,0,"_worklet_10917204099484_init_data"],[1,1074,22,0,"_ref"],[1,1076,22,0,"_worklet_10917204099484_init_data"],[1,1110,110,8,"IS_JEST"],[1,1112,110,15,"_ref"],[1,1114,110,8,"IS_JEST"],[1,1122,149,15,"isSharedValue"],[1,1124,149,28,"_ref"],[1,1126,149,15,"isSharedValue"],[1,1140,149,28,"createMapperRegistry"],[1,1142,149,28],[1,1153,24,2],[1,1157,24,8,"mappers"],[1,1159,24,18],[1,1163,24,22,"Map"],[1,1167,25,6,"sortedMappers"],[1,1169,25,32],[1,1172,27,6,"runRequested"],[1,1175,27,21],[1,1177,28,6,"processingMappers"],[1,1180,28,26],[1,1182,30,2],[1,1191,30,11,"updateMappersOrder"],[1,1195,51,4],[1,1199,51,10,"pre"],[1,1201,51,16],[1,1205,51,20,"Map"],[1,1209,52,4,"mappers"],[1,1211,52,12,"forEach"],[1,1219,52,21,"mapper"],[1,1223,53,6],[1,1226,53,10,"mapper"],[1,1228,53,17,"outputs"],[1,1236,54,8],[1,1240,54,13],[1,1244,54,19,"output"],[1,1249,54,29,"mapper"],[1,1251,54,36,"outputs"],[1,1259,54,45],[1,1260,55,10],[1,1264,55,16,"preMappers"],[1,1266,55,29,"pre"],[1,1268,55,33,"get"],[1,1272,55,37,"output"],[1,1280,56,29,"undefined"],[1,1284,56,14,"preMappers"],[1,1286,57,12,"pre"],[1,1288,57,16,"set"],[1,1292,57,20,"output"],[1,1294,57,28],[1,1295,57,29,"mapper"],[1,1299,59,12,"preMappers"],[1,1301,59,23,"push"],[1,1306,59,28,"mapper"],[1,1308,61,8],[1,1312,64,4],[1,1316,64,10,"visited"],[1,1318,64,20],[1,1322,64,24,"Set"],[1,1326,65,10,"newOrder"],[1,1328,65,31],[1,1331,66,4],[1,1340,66,13,"dfs"],[1,1342,66,17,"mapper"],[1,1345,68,6],[1,1349,68,11],[1,1353,68,17,"input"],[1,1358,67,6,"visited"],[1,1360,67,14,"add"],[1,1364,67,18,"mapper"],[1,1367,68,26,"mapper"],[1,1369,68,33,"inputs"],[1,1377,68,41],[1,1378,69,8],[1,1382,69,14,"preMappers"],[1,1384,69,27,"pre"],[1,1386,69,31,"get"],[1,1390,69,35,"input"],[1,1393,70,8],[1,1396,70,12,"preMappers"],[1,1398,71,10],[1,1402,71,15],[1,1406,71,21,"preMapper"],[1,1411,71,34,"preMappers"],[1,1413,72,17,"visited"],[1,1415,72,25,"has"],[1,1419,72,29,"preMapper"],[1,1423,73,14,"dfs"],[1,1425,73,18,"preMapper"],[1,1427,77,6],[1,1428,78,6,"newOrder"],[1,1430,78,15,"push"],[1,1435,78,20,"mapper"],[1,1437,79,4],[1,1438,80,4,"mappers"],[1,1440,80,12,"forEach"],[1,1448,80,21,"mapper"],[1,1452,81,11,"visited"],[1,1454,81,19,"has"],[1,1458,81,23,"mapper"],[1,1462,82,8,"dfs"],[1,1464,82,12,"mapper"],[1,1469,85,4,"sortedMappers"],[1,1471,85,20,"newOrder"],[1,1472,86,2],[1,1473,88,2],[1,1482,88,11,"mapperRun"],[1,1486,90,4],[1,1489,89,4,"runRequested"],[1,1492,89,19],[1,1495,90,8,"processingMappers"],[1,1497,93,4],[1,1501,98,6],[1,1505,98,11],[1,1509,98,17,"mapper"],[1,1514,94,6,"processingMappers"],[1,1517,94,26],[1,1519,95,10,"mappers"],[1,1521,95,18,"size"],[1,1528,95,27,"sortedMappers"],[1,1530,95,41,"length"],[1,1538,96,8,"updateMappersOrder"],[1,1542,98,27,"sortedMappers"],[1,1545,99,12,"mapper"],[1,1547,99,19,"dirty"],[1,1555,100,10,"mapper"],[1,1557,100,17,"dirty"],[1,1564,100,25],[1,1566,101,10,"mapper"],[1,1568,101,17,"worklet"],[1,1578,104,4],[1,1579,104,5],[1,1587,105,6,"processingMappers"],[1,1590,105,26],[1,1591,106,4],[1,1592,107,2],[1,1593,109,2],[1,1602,109,11,"maybeRequestUpdates"],[1,1606,110,8,"IS_JEST"],[1,1608,117,6,"mapperRun"],[1,1612,118,16,"runRequested"],[1,1616,119,10,"processingMappers"],[1,1618,131,8,"requestAnimationFrame"],[1,1640,131,30,"mapperRun"],[1,1643,133,8,"queueMicrotask"],[1,1658,133,23,"mapperRun"],[1,1661,135,6,"runRequested"],[1,1664,135,21],[1,1666,137,2],[1,1667,139,2],[1,1676,139,11,"extractInputs"],[1,1678,140,4,"inputs"],[1,1680,141,4,"resultArray"],[1,1683,143,4],[1,1686,143,8,"Array"],[1,1692,143,14,"isArray"],[1,1700,143,22,"inputs"],[1,1703,144,6],[1,1707,144,11],[1,1711,144,17,"input"],[1,1716,144,26,"inputs"],[1,1718,145,12,"input"],[1,1721,146,10,"extractInputs"],[1,1723,146,24,"input"],[1,1725,146,31,"resultArray"],[1,1733,149,11],[1,1736,149,15,"isSharedValue"],[1,1738,149,29,"inputs"],[1,1741,150,6,"resultArray"],[1,1743,150,18,"push"],[1,1748,150,23,"inputs"],[1,1756,151,11],[1,1759,151,15,"Object"],[1,1766,151,22,"getPrototypeOf"],[1,1781,151,37,"inputs"],[1,1786,151,49,"Object"],[1,1793,151,56,"prototype"],[1,1803,155,6],[1,1807,155,11],[1,1811,155,17,"element"],[1,1816,155,28,"Object"],[1,1823,155,35,"values"],[1,1830,155,42,"inputs"],[1,1833,156,12,"element"],[1,1836,157,10,"extractInputs"],[1,1838,157,24,"element"],[1,1840,157,33,"resultArray"],[1,1843,161,4],[1,1850,161,11,"resultArray"],[1,1851,162,2],[1,1852,164,2],[1,1858,164,9],[1,1859,165,4,"start"],[1,1865,165,11,"start"],[1,1866,166,6,"mapperID"],[1,1868,167,6,"worklet"],[1,1870,168,6,"inputs"],[1,1872,169,6,"outputs"],[1,1877,171,6],[1,1881,171,12,"mapper"],[1,1883,171,29],[1,1884,172,8,"id"],[1,1887,172,12,"mapperID"],[1,1889,173,8,"dirty"],[1,1896,173,15],[1,1898,174,8,"worklet"],[1,1908,175,8,"inputs"],[1,1915,175,16,"extractInputs"],[1,1917,175,30,"inputs"],[1,1919,175,38],[1,1923,176,8,"outputs"],[1,1934,180,6],[1,1938,180,11],[1,1942,180,17,"sv"],[1,1947,178,6,"mappers"],[1,1949,178,14,"set"],[1,1953,178,18,"mapper"],[1,1955,178,25,"id"],[1,1958,178,29,"mapper"],[1,1961,179,6,"sortedMappers"],[1,1963,179,22],[1,1966,180,23,"mapper"],[1,1968,180,30,"inputs"],[1,1976,181,8,"sv"],[1,1978,181,11,"addListener"],[1,1990,181,23,"mapper"],[1,1992,181,30,"id"],[1,1995,181,34],[1,2000,182,10,"mapper"],[1,2002,182,17,"dirty"],[1,2009,182,25],[1,2011,183,10,"maybeRequestUpdates"],[1,2017,186,6,"maybeRequestUpdates"],[1,2022,188,4,"stop"],[1,2027,188,11,"mapperID"],[1,2031,189,6],[1,2035,189,12,"mapper"],[1,2037,189,21,"mappers"],[1,2039,189,29,"get"],[1,2043,189,33,"mapperID"],[1,2046,190,6],[1,2049,190,10,"mapper"],[1,2051,193,8],[1,2055,193,13],[1,2059,193,19,"sv"],[1,2064,191,8,"mappers"],[1,2066,191,16,"delete"],[1,2073,191,23,"mapper"],[1,2075,191,30,"id"],[1,2079,192,8,"sortedMappers"],[1,2081,192,24],[1,2084,193,25,"mapper"],[1,2086,193,32,"inputs"],[1,2094,194,10,"sv"],[1,2096,194,13,"removeListener"],[1,2111,194,28,"mapper"],[1,2113,194,35,"id"],[1,2118,199,0],[1,2120,149,28],[1,2127,199,1,"createMapperRegistry"],[1,2129,199,1,"__closure"],[1,2139,199,1],[1,2140,110,8,"IS_JEST"],[1,2150,149,15,"isSharedValue"],[1,2167,149,28,"createMapperRegistry"],[1,2169,149,28,"__workletHash"],[1,2183,149,28],[1,2197,149,28,"createMapperRegistry"],[1,2199,149,28,"__initData"],[1,2210,149,28,"_worklet_10917204099484_init_data"],[1,2212,149,28,"createMapperRegistry"],[1,2213,149,28],[1,2215,22,0],[1,2217,22,0,"_worklet_10917204099484_init_data"],[1,2251,10,48],[1,2252,10,48,"code"],[1,2257,10,48],[1,4452,110,8,"IS_JEST"],[1,4462,110,15,"IS_JEST"],[1,4470,149,15,"isSharedValue"],[1,4486,149,28,"isSharedValue"],[1,4502,201,4,"MAPPER_ID"],[1,4504,201,16],[1,4509,201,21,"_worklet_9660765174658_init_data"],[1,4511,201,21],[1,4512,201,21,"code"],[1,4517,201,21],[1,4832,219,1],[1,4836,219,1,"_worklet_7172044021294_init_data"],[1,4838,219,1],[1,4839,219,1,"code"],[1,4844,219,1],[1,5046,226,1],[1,5049]],"functionMap":{"names":["<global>","createMapperRegistry","updateMappersOrder","forEach$argument_0","dfs","mapperRun","maybeRequestUpdates","extractInputs","start","sv.addListener$argument_1","stop","startMapper","runOnUI$argument_0","stopMapper"],"mappings":"AAA;ACqB;ECQ;oBCsB;KDW;IEG;KFa;oBCC;KDI;GDE;EIE;GJmB;EKE;GL4B;EME;GNuB;WOG;kCCgB;SDG;KPG;USC;KTS;CDE;OWI;UCO;GDM;CXG;OaE;UDC;GCG;CbC"},"hasCjsExports":false},"type":"js/module"}]}