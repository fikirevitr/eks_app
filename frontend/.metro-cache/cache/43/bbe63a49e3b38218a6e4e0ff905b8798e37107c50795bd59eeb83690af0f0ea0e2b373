{"dependencies":[{"name":"@babel/runtime/helpers/createClass","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"Z6pzkVZ2fvxBLkFTgVVOy4UDj30=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/classCallCheck","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"yg7e6laZwmpbIvId5jovq9ugXp8=","exportNames":["*"],"imports":1}},{"name":"./ListMetricsAggregator","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":15,"column":0},"end":{"line":15,"column":60}}],"key":"+LsZXRWRdDHi7URH4twavK8owRs=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,_e,d){'use strict';function t(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,\"default\",{enumerable:!0,get:function(){return u}});var e=t(r(d[0])),s=t(r(d[1]));r(d[2]);var n=(0,e.default)(function t(){(0,s.default)(this,t),this.any_blank_count=0,this.any_blank_ms=0,this.any_blank_speed_sum=0,this.mostly_blank_count=0,this.mostly_blank_ms=0,this.pixels_blank=0,this.pixels_sampled=0,this.pixels_scrolled=0,this.total_time_spent=0,this.sample_count=0}),l=[],_=10,o=null,u=(function(){return(0,e.default)(function t(e){(0,s.default)(this,t),this._anyBlankStartTime=null,this._enabled=!1,this._info=new n,this._mostlyBlankStartTime=null,this._samplesStartTime=null,this._listMetrics=e,this._enabled=(o||0)>Math.random(),this._resetData()},[{key:\"activate\",value:function(){this._enabled&&null==this._samplesStartTime&&(this._samplesStartTime=g.performance.now())}},{key:\"deactivateAndFlush\",value:function(){if(this._enabled){var t=this._samplesStartTime;if(null!=t)if(this._info.sample_count<_)this._resetData();else{var e=g.performance.now()-t,s={...this._info,total_time_spent:e};l.forEach(t=>t(s)),this._resetData()}}}},{key:\"computeBlankness\",value:function(t,e,s){if(!this._enabled||0===t.getItemCount(t.data)||e.last<e.first||null==this._samplesStartTime)return 0;var n=s.dOffset,l=s.offset,_=s.velocity,o=s.visibleLength;this._info.sample_count++,this._info.pixels_sampled+=Math.round(o),this._info.pixels_scrolled+=Math.round(Math.abs(n));var u=Math.round(1e3*Math.abs(_)),h=g.performance.now();null!=this._anyBlankStartTime&&(this._info.any_blank_ms+=h-this._anyBlankStartTime),this._anyBlankStartTime=null,null!=this._mostlyBlankStartTime&&(this._info.mostly_blank_ms+=h-this._mostlyBlankStartTime),this._mostlyBlankStartTime=null;for(var f=0,c=e.first,k=this._listMetrics.getCellMetrics(c,t);c<=e.last&&(!k||!k.isMounted);)k=this._listMetrics.getCellMetrics(c,t),c++;k&&c>0&&(f=Math.min(o,Math.max(0,k.offset-l)));for(var y=0,p=e.last,b=this._listMetrics.getCellMetrics(p,t);p>=e.first&&(!b||!b.isMounted);)b=this._listMetrics.getCellMetrics(p,t),p--;if(b&&p<t.getItemCount(t.data)-1){var M=b.offset+b.length;y=Math.min(o,Math.max(0,l+o-M))}var v=Math.round(f+y),S=v/o;return S>0?(this._anyBlankStartTime=h,this._info.any_blank_speed_sum+=u,this._info.any_blank_count++,this._info.pixels_blank+=v,S>.5&&(this._mostlyBlankStartTime=h,this._info.mostly_blank_count++)):(u<.01||Math.abs(n)<1)&&this.deactivateAndFlush(),S}},{key:\"enabled\",value:function(){return this._enabled}},{key:\"_resetData\",value:function(){this._anyBlankStartTime=null,this._info=new n,this._mostlyBlankStartTime=null,this._samplesStartTime=null}}],[{key:\"addListener\",value:function(t){return null===o&&console.warn('Call `FillRateHelper.setSampleRate` before `addListener`.'),l.push(t),{remove:()=>{l=l.filter(e=>t!==e)}}}},{key:\"setSampleRate\",value:function(t){o=t}},{key:\"setMinSampleCount\",value:function(t){_=t}}])})()});","lineCount":1,"map":[[1,29,11,0],[1,42,11,13],[1,51,11,13,"_interopDefault"],[1,53,11,13,"e"],[1,56,11,13],[1,63,11,13,"e"],[1,68,11,13,"__esModule"],[1,79,11,13,"e"],[1,81,11,13],[1,82,11,13,"default"],[1,90,11,13,"e"],[1,92,11,13],[1,93,11,13,"Object"],[1,100,11,13,"defineProperty"],[1,115,11,13,"_e"],[1,118,11,13],[1,132,11,13,"value"],[1,139,11,13],[1,143,247,0,"Object"],[1,150,247,0,"defineProperty"],[1,165,247,0,"_e"],[1,168,247,0],[1,179,247,0,"enumerable"],[1,191,247,0],[1,193,247,0,"get"],[1,197,247,0],[1,215,247,0,"_default"],[1,216,247,0],[1,220,247,30],[1,224,247,30,"_createClass"],[1,226,247,30,"_interopDefault"],[1,228,247,30,"r"],[1,230,247,30,"d"],[1,232,247,30],[1,237,247,30,"_classCallCheck"],[1,239,247,30,"_interopDefault"],[1,241,247,30,"r"],[1,243,247,30,"d"],[1,245,247,30],[1,250,15,0,"r"],[1,252,15,0,"d"],[1,254,15,0],[1,258,15,60],[1,262,19,6,"Info"],[1,265,19,10],[1,267,19,10,"_createClass"],[1,269,19,10,"default"],[1,278,19,10],[1,287,19,10,"Info"],[1,292,19,10],[1,294,19,10,"_classCallCheck"],[1,296,19,10,"default"],[1,305,19,10,"this"],[1,310,19,10,"Info"],[1,313,19,10,"this"],[1,318,20,2,"any_blank_count"],[1,334,20,28],[1,336,20,29,"this"],[1,341,21,2,"any_blank_ms"],[1,354,21,25],[1,356,21,26,"this"],[1,361,22,2,"any_blank_speed_sum"],[1,381,22,32],[1,383,22,33,"this"],[1,388,23,2,"mostly_blank_count"],[1,407,23,31],[1,409,23,32,"this"],[1,414,24,2,"mostly_blank_ms"],[1,430,24,28],[1,432,24,29,"this"],[1,437,25,2,"pixels_blank"],[1,450,25,25],[1,452,25,26,"this"],[1,457,26,2,"pixels_sampled"],[1,472,26,27],[1,474,26,28,"this"],[1,479,27,2,"pixels_scrolled"],[1,495,27,28],[1,497,27,29,"this"],[1,502,28,2,"total_time_spent"],[1,519,28,29],[1,521,28,30,"this"],[1,526,29,2,"sample_count"],[1,539,29,25],[1,540,29,26],[1,543,34,4,"_listeners"],[1,545,34,40],[1,548,35,4,"_minSampleCount"],[1,550,35,22],[1,553,36,4,"_sampleRate"],[1,555,36,30],[1,560,247,0,"_default"],[1,563,46,20],[1,574,81,3],[1,583,81,3,"_createClass"],[1,585,81,3,"default"],[1,594,77,2],[1,603,77,2,"FillRateHelper"],[1,605,77,14,"listMetrics"],[1,609,77,50],[1,611,77,50,"_classCallCheck"],[1,613,77,50,"default"],[1,622,77,50,"this"],[1,627,77,50,"FillRateHelper"],[1,630,77,50,"this"],[1,635,47,2,"_anyBlankStartTime"],[1,654,47,32],[1,659,47,36,"this"],[1,664,48,2,"_enabled"],[1,674,48,13],[1,676,48,18,"this"],[1,681,50,2,"_info"],[1,687,50,16],[1,691,50,20,"Info"],[1,693,50,26,"this"],[1,698,51,2,"_mostlyBlankStartTime"],[1,720,51,35],[1,725,51,39,"this"],[1,730,52,2,"_samplesStartTime"],[1,748,52,31],[1,753,78,4,"this"],[1,758,78,9,"_listMetrics"],[1,771,78,24,"listMetrics"],[1,773,79,4,"this"],[1,778,79,9,"_enabled"],[1,788,79,21,"_sampleRate"],[1,791,79,36],[1,794,79,41,"Math"],[1,799,79,46,"random"],[1,808,80,4,"this"],[1,813,80,9,"_resetData"],[1,825,81,2],[1,827,81,3],[1,829,81,3,"key"],[1,833,81,3],[1,844,81,3,"value"],[1,850,83,2],[1,861,84,8,"this"],[1,866,84,13,"_enabled"],[1,876,84,51],[1,882,84,25,"this"],[1,887,84,30,"_samplesStartTime"],[1,907,86,6,"this"],[1,912,86,11,"_samplesStartTime"],[1,930,86,31,"global"],[1,932,86,38,"performance"],[1,944,86,50,"now"],[1,950,88,2],[1,953,88,3],[1,954,88,3,"key"],[1,958,88,3],[1,979,88,3,"value"],[1,985,90,2],[1,996,91,4],[1,999,91,9,"this"],[1,1004,91,14,"_enabled"],[1,1013,91,4],[1,1014,94,4],[1,1018,94,10,"start"],[1,1020,94,18,"this"],[1,1025,94,23,"_samplesStartTime"],[1,1043,95,4],[1,1046,95,17],[1,1052,95,8,"start"],[1,1054,100,4],[1,1057,100,8,"this"],[1,1062,100,13,"_info"],[1,1068,100,19,"sample_count"],[1,1081,100,34,"_minSampleCount"],[1,1083,102,6,"this"],[1,1088,102,11,"_resetData"],[1,1105,100,4],[1,1106,105,4],[1,1110,105,10,"total_time_spent"],[1,1112,105,29,"global"],[1,1114,105,36,"performance"],[1,1126,105,48,"now"],[1,1132,105,56,"start"],[1,1134,106,10,"info"],[1,1136,106,22],[1,1140,107,9,"this"],[1,1145,107,14,"_info"],[1,1151,108,6,"total_time_spent"],[1,1171,130,4,"_listeners"],[1,1173,130,15,"forEach"],[1,1181,130,23,"listener"],[1,1184,130,35,"listener"],[1,1186,130,44,"info"],[1,1190,131,4,"this"],[1,1195,131,9,"_resetData"],[1,1207,104,4],[1,1208,93,4],[1,1209,132,2],[1,1212,132,3],[1,1213,132,3,"key"],[1,1217,132,3],[1,1236,132,3,"value"],[1,1242,134,2],[1,1251,135,4,"props"],[1,1253,140,4,"cellsAroundViewport"],[1,1255,145,4,"scrollMetrics"],[1,1258,153,4],[1,1262,154,7,"this"],[1,1267,154,12,"_enabled"],[1,1277,155,41],[1,1281,155,6,"props"],[1,1283,155,12,"getItemCount"],[1,1296,155,25,"props"],[1,1298,155,31,"data"],[1,1305,156,6,"cellsAroundViewport"],[1,1307,156,26,"last"],[1,1312,156,33,"cellsAroundViewport"],[1,1314,156,53,"first"],[1,1321,157,32],[1,1327,157,6,"this"],[1,1332,157,11,"_samplesStartTime"],[1,1350,159,6],[1,1357,159,13],[1,1359,161,4],[1,1363,161,11,"dOffset"],[1,1365,161,55,"scrollMetrics"],[1,1367,161,11,"dOffset"],[1,1375,161,20,"offset"],[1,1377,161,55,"scrollMetrics"],[1,1379,161,20,"offset"],[1,1386,161,28,"velocity"],[1,1388,161,55,"scrollMetrics"],[1,1390,161,28,"velocity"],[1,1399,161,38,"visibleLength"],[1,1401,161,55,"scrollMetrics"],[1,1403,161,38,"visibleLength"],[1,1417,165,4,"this"],[1,1422,165,9,"_info"],[1,1428,165,15,"sample_count"],[1,1443,166,4,"this"],[1,1448,166,9,"_info"],[1,1454,166,15,"pixels_sampled"],[1,1470,166,33,"Math"],[1,1475,166,38,"round"],[1,1481,166,44,"visibleLength"],[1,1484,167,4,"this"],[1,1489,167,9,"_info"],[1,1495,167,15,"pixels_scrolled"],[1,1512,167,34,"Math"],[1,1517,167,39,"round"],[1,1523,167,45,"Math"],[1,1528,167,50,"abs"],[1,1532,167,54,"dOffset"],[1,1536,168,4],[1,1540,168,10,"scrollSpeed"],[1,1542,168,24,"Math"],[1,1547,168,29,"round"],[1,1553,168,56],[1,1557,168,35,"Math"],[1,1562,168,40,"abs"],[1,1566,168,44,"velocity"],[1,1570,171,10,"now"],[1,1572,171,16,"global"],[1,1574,171,23,"performance"],[1,1586,171,35,"now"],[1,1592,172,35],[1,1598,172,8,"this"],[1,1603,172,13,"_anyBlankStartTime"],[1,1624,173,6,"this"],[1,1629,173,11,"_info"],[1,1635,173,17,"any_blank_ms"],[1,1649,173,33,"now"],[1,1651,173,39,"this"],[1,1656,173,44,"_anyBlankStartTime"],[1,1676,175,4,"this"],[1,1681,175,9,"_anyBlankStartTime"],[1,1700,175,30],[1,1705,176,38],[1,1711,176,8,"this"],[1,1716,176,13,"_mostlyBlankStartTime"],[1,1740,177,6,"this"],[1,1745,177,11,"_info"],[1,1751,177,17,"mostly_blank_ms"],[1,1768,177,36,"now"],[1,1770,177,42,"this"],[1,1775,177,47,"_mostlyBlankStartTime"],[1,1798,179,4,"this"],[1,1803,179,9,"_mostlyBlankStartTime"],[1,1825,179,33],[1,1830,184,4],[1,1834,181,4],[1,1838,181,8,"blankTop"],[1,1840,181,19],[1,1842,182,8,"first"],[1,1844,182,16,"cellsAroundViewport"],[1,1846,182,36,"first"],[1,1852,183,8,"firstFrame"],[1,1854,183,21,"this"],[1,1859,183,26,"_listMetrics"],[1,1872,183,39,"getCellMetrics"],[1,1887,183,54,"first"],[1,1889,183,61,"props"],[1,1892,185,6,"first"],[1,1895,185,15,"cellsAroundViewport"],[1,1897,185,35,"last"],[1,1905,186,8,"firstFrame"],[1,1909,186,23,"firstFrame"],[1,1911,186,34,"isMounted"],[1,1923,188,6,"firstFrame"],[1,1925,188,19,"this"],[1,1930,188,24,"_listMetrics"],[1,1943,188,37,"getCellMetrics"],[1,1958,188,52,"first"],[1,1960,188,59,"props"],[1,1963,189,6,"first"],[1,1967,193,8,"firstFrame"],[1,1970,193,22,"first"],[1,1972,193,30],[1,1976,194,6,"blankTop"],[1,1978,194,17,"Math"],[1,1983,194,22,"min"],[1,1987,195,8,"visibleLength"],[1,1989,196,8,"Math"],[1,1994,196,13,"max"],[1,1998,196,17],[1,2000,196,20,"firstFrame"],[1,2002,196,31,"offset"],[1,2009,196,40,"offset"],[1,2014,202,4],[1,2018,199,4],[1,2022,199,8,"blankBottom"],[1,2024,199,22],[1,2026,200,8,"last"],[1,2028,200,15,"cellsAroundViewport"],[1,2030,200,35,"last"],[1,2035,201,8,"lastFrame"],[1,2037,201,20,"this"],[1,2042,201,25,"_listMetrics"],[1,2055,201,38,"getCellMetrics"],[1,2070,201,53,"last"],[1,2072,201,59,"props"],[1,2075,203,6,"last"],[1,2078,203,14,"cellsAroundViewport"],[1,2080,203,34,"first"],[1,2089,204,8,"lastFrame"],[1,2093,204,22,"lastFrame"],[1,2095,204,32,"isMounted"],[1,2107,206,6,"lastFrame"],[1,2109,206,18,"this"],[1,2114,206,23,"_listMetrics"],[1,2127,206,36,"getCellMetrics"],[1,2142,206,51,"last"],[1,2144,206,57,"props"],[1,2147,207,6,"last"],[1,2151,211,4],[1,2154,211,8,"lastFrame"],[1,2157,211,21,"last"],[1,2159,211,28,"props"],[1,2161,211,34,"getItemCount"],[1,2174,211,47,"props"],[1,2176,211,53,"data"],[1,2182,211,61],[1,2184,211,64],[1,2185,212,6],[1,2189,212,12,"bottomEdge"],[1,2191,212,25,"lastFrame"],[1,2193,212,35,"offset"],[1,2200,212,44,"lastFrame"],[1,2202,212,54,"length"],[1,2209,213,6,"blankBottom"],[1,2211,213,20,"Math"],[1,2216,213,25,"min"],[1,2220,214,8,"visibleLength"],[1,2222,215,8,"Math"],[1,2227,215,13,"max"],[1,2231,215,17],[1,2233,215,20,"offset"],[1,2235,215,29,"visibleLength"],[1,2237,215,45,"bottomEdge"],[1,2240,217,4],[1,2241,218,4],[1,2245,218,10,"pixels_blank"],[1,2247,218,25,"Math"],[1,2252,218,30,"round"],[1,2258,218,36,"blankTop"],[1,2260,218,47,"blankBottom"],[1,2263,219,10,"blankness"],[1,2265,219,22,"pixels_blank"],[1,2267,219,37,"visibleLength"],[1,2269,232,4],[1,2276,220,8,"blankness"],[1,2278,220,20],[1,2281,221,6,"this"],[1,2286,221,11,"_anyBlankStartTime"],[1,2305,221,32,"now"],[1,2307,222,6,"this"],[1,2312,222,11,"_info"],[1,2318,222,17,"any_blank_speed_sum"],[1,2339,222,40,"scrollSpeed"],[1,2341,223,6,"this"],[1,2346,223,11,"_info"],[1,2352,223,17,"any_blank_count"],[1,2370,224,6,"this"],[1,2375,224,11,"_info"],[1,2381,224,17,"pixels_blank"],[1,2395,224,33,"pixels_blank"],[1,2397,225,10,"blankness"],[1,2399,225,22],[1,2404,226,8,"this"],[1,2409,226,13,"_mostlyBlankStartTime"],[1,2431,226,37,"now"],[1,2433,227,8,"this"],[1,2438,227,13,"_info"],[1,2444,227,19,"mostly_blank_count"],[1,2468,229,15,"scrollSpeed"],[1,2470,229,29],[1,2475,229,37,"Math"],[1,2480,229,42,"abs"],[1,2484,229,46,"dOffset"],[1,2487,229,57],[1,2491,230,6,"this"],[1,2496,230,11,"deactivateAndFlush"],[1,2517,232,11,"blankness"],[1,2518,233,2],[1,2521,233,3],[1,2522,233,3,"key"],[1,2526,233,3],[1,2536,233,3,"value"],[1,2542,235,2],[1,2553,236,4],[1,2560,236,11,"this"],[1,2565,236,16,"_enabled"],[1,2573,237,2],[1,2576,237,3],[1,2577,237,3,"key"],[1,2581,237,3],[1,2594,237,3,"value"],[1,2600,239,2],[1,2611,240,4,"this"],[1,2616,240,9,"_anyBlankStartTime"],[1,2635,240,30],[1,2640,241,4,"this"],[1,2645,241,9,"_info"],[1,2651,241,17],[1,2655,241,21,"Info"],[1,2657,242,4,"this"],[1,2662,242,9,"_mostlyBlankStartTime"],[1,2684,242,33],[1,2689,243,4,"this"],[1,2694,243,9,"_samplesStartTime"],[1,2712,243,29],[1,2716,244,2],[1,2720,244,3],[1,2722,244,3,"key"],[1,2726,244,3],[1,2740,244,3,"value"],[1,2746,54,2],[1,2755,54,21,"callback"],[1,2758,62,4],[1,2765,58,24],[1,2772,58,8,"_sampleRate"],[1,2775,59,6,"console"],[1,2783,59,14,"warn"],[1,2788,59,19],[1,2849,61,4,"_listeners"],[1,2851,61,15,"push"],[1,2856,61,20,"callback"],[1,2859,62,11],[1,2860,63,6,"remove"],[1,2867,63,14,"remove"],[1,2872,64,8,"_listeners"],[1,2874,64,21,"_listeners"],[1,2876,64,32,"filter"],[1,2883,64,39,"listener"],[1,2886,64,51,"callback"],[1,2890,64,64,"listener"],[1,2894,67,2],[1,2897,67,3],[1,2898,67,3,"key"],[1,2902,67,3],[1,2918,67,3,"value"],[1,2924,69,2],[1,2933,69,23,"sampleRate"],[1,2936,70,4,"_sampleRate"],[1,2938,70,18,"sampleRate"],[1,2939,71,2],[1,2942,71,3],[1,2943,71,3,"key"],[1,2947,71,3],[1,2967,71,3,"value"],[1,2973,73,2],[1,2982,73,27,"minSampleCount"],[1,2985,74,4,"_minSampleCount"],[1,2987,74,22,"minSampleCount"],[1,2988,75,2],[1,2992,75,3],[1,2994,46,20],[1,2996,247,30],[1,2999]],"functionMap":{"names":["<global>","Info","FillRateHelper","addListener","remove","_listeners.filter$argument_0","setSampleRate","setMinSampleCount","constructor","activate","deactivateAndFlush","_listeners.forEach$argument_0","computeBlankness","enabled","_resetData"],"mappings":"AAA;ACkB;CDW;AEgB;ECQ;cCS;uCCC,iCD;ODC;GDE;EIE;GJE;EKE;GLE;EME;GNI;EOE;GPK;EQE;uBCwC,0BD;GRE;EUE;GVmG;EWE;GXE;EYE;GZK;CFC"},"hasCjsExports":false},"type":"js/module"}]}