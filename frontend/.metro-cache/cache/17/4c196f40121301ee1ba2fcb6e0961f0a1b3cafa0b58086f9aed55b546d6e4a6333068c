{"dependencies":[{"name":"@speedshield/react-native-ssh-sftp","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":163},"end":{"line":5,"column":59,"index":222}}],"key":"dLYXD6P5y18NU+eICzBGLFNZMSo=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.executeSSHCommand = executeSSHCommand;\n  exports.disconnectSSH = disconnectSSH;\n  var _speedshieldReactNativeSshSftp = require(_dependencyMap[0], \"@speedshield/react-native-ssh-sftp\");\n  var SSHClient = _interopDefault(_speedshieldReactNativeSshSftp);\n  // Native SSH Client - Tam Offline Çalışır\n  // @speedshield/react-native-ssh-sftp kullanılıyor (güncel fork)\n  // Cihaz ve Raspberry Pi aynı local network'te olmalı\n\n  // Aktif client referansı\n  let activeClient = null;\n  async function executeSSHCommand(config, command) {\n    try {\n      // Önceki bağlantıyı temizle\n      if (activeClient) {\n        try {\n          activeClient.disconnect();\n        } catch (e) {\n          // Ignore\n        }\n        activeClient = null;\n      }\n      console.log(`SSH Bağlanıyor: ${config.host}:${config.port}`);\n\n      // Timeout promise\n      const timeoutPromise = new Promise((_, reject) => {\n        setTimeout(() => {\n          reject(new Error('Bağlantı zaman aşımına uğradı (30 saniye)'));\n        }, 30000);\n      });\n\n      // SSH bağlantı ve komut çalıştırma promise\n      const sshPromise = (async () => {\n        try {\n          // Bağlan\n          const client = await SSHClient.default.connectWithPassword(config.host, config.port, config.username, config.password);\n          activeClient = client;\n          console.log('SSH Bağlantı başarılı, komut çalıştırılıyor...');\n\n          // Komutu çalıştır\n          const output = await client.execute(command);\n          console.log('SSH Komut çıktısı:', output);\n\n          // Bağlantıyı kapat\n          try {\n            client.disconnect();\n          } catch (e) {\n            // Ignore\n          }\n          activeClient = null;\n          return {\n            success: true,\n            output: output || 'Komut başarıyla çalıştırıldı'\n          };\n        } catch (err) {\n          // Bağlantıyı kapat\n          if (activeClient) {\n            try {\n              activeClient.disconnect();\n            } catch (e) {\n              // Ignore\n            }\n            activeClient = null;\n          }\n          throw err;\n        }\n      })();\n\n      // Race - hangisi önce biterse\n      return await Promise.race([sshPromise, timeoutPromise]);\n    } catch (err) {\n      console.error('SSH Hata:', err);\n\n      // Bağlantıyı temizle\n      if (activeClient) {\n        try {\n          activeClient.disconnect();\n        } catch (e) {\n          // Ignore\n        }\n        activeClient = null;\n      }\n      return {\n        success: false,\n        error: getErrorMessage(err)\n      };\n    }\n  }\n\n  // Bağlantıyı manuel kapatma fonksiyonu\n  function disconnectSSH() {\n    if (activeClient) {\n      try {\n        activeClient.disconnect();\n      } catch (e) {\n        // Ignore\n      }\n      activeClient = null;\n    }\n  }\n  function getErrorMessage(err) {\n    const message = err?.message || err?.toString() || '';\n\n    // Zaman aşımı\n    if (message.includes('timeout') || message.includes('Timeout') || message.includes('zaman aşımı')) {\n      return 'Bağlantı zaman aşımına uğradı. Raspberry Pi yanıt vermiyor.';\n    }\n\n    // Bağlantı reddedildi\n    if (message.includes('refused') || message.includes('Connection refused') || message.includes('ECONNREFUSED')) {\n      return 'Bağlantı reddedildi. SSH servisi çalışıyor mu kontrol edin.';\n    }\n\n    // Kimlik doğrulama hatası\n    if (message.includes('authentication') || message.includes('Authentication') || message.includes('password') || message.includes('Permission denied')) {\n      return 'Kimlik doğrulama hatası. Kullanıcı adı veya şifre yanlış.';\n    }\n\n    // Host bulunamadı\n    if (message.includes('host') || message.includes('Host') || message.includes('resolve') || message.includes('ENOTFOUND')) {\n      return 'Host bulunamadı. IP adresini kontrol edin.';\n    }\n\n    // Ağ hatası\n    if (message.includes('network') || message.includes('Network') || message.includes('unreachable') || message.includes('ENETUNREACH')) {\n      return 'Ağ hatası. Aynı WiFi ağında olduğunuzdan emin olun.';\n    }\n\n    // Socket hatası\n    if (message.includes('socket') || message.includes('Socket') || message.includes('ECONNRESET')) {\n      return 'Bağlantı hatası. Raspberry Pi\\'nin açık olduğundan emin olun.';\n    }\n\n    // Port hatası\n    if (message.includes('port') || message.includes('Port')) {\n      return 'Port hatası. SSH portu (genellikle 22) açık mı kontrol edin.';\n    }\n\n    // Genel hata mesajı\n    if (message && message.length > 0) {\n      return message;\n    }\n    return 'SSH bağlantı hatası oluştu.';\n  }\n});","lineCount":155,"map":[[12,2,23,0,"exports"],[12,9,23,0],[12,10,23,0,"executeSSHCommand"],[12,27,23,0],[12,30,23,0,"executeSSHCommand"],[12,47,23,0],[13,2,115,0,"exports"],[13,9,115,0],[13,10,115,0,"disconnectSSH"],[13,23,115,0],[13,26,115,0,"disconnectSSH"],[13,39,115,0],[14,2,5,0],[14,6,5,0,"_speedshieldReactNativeSshSftp"],[14,36,5,0],[14,39,5,0,"require"],[14,46,5,0],[14,47,5,0,"_dependencyMap"],[14,61,5,0],[15,2,5,0],[15,6,5,0,"SSHClient"],[15,15,5,0],[15,18,5,0,"_interopDefault"],[15,33,5,0],[15,34,5,0,"_speedshieldReactNativeSshSftp"],[15,64,5,0],[16,2,1,0],[17,2,2,0],[18,2,3,0],[20,2,20,0],[21,2,21,0],[21,6,21,4,"activeClient"],[21,18,21,21],[21,21,21,24],[21,25,21,28],[22,2,23,7],[22,17,23,22,"executeSSHCommand"],[22,34,23,39,"executeSSHCommand"],[22,35,24,2,"config"],[22,41,24,19],[22,43,25,2,"command"],[22,50,25,17],[22,52,26,22],[23,4,27,2],[23,8,27,6],[24,6,28,4],[25,6,29,4],[25,10,29,8,"activeClient"],[25,22,29,20],[25,24,29,22],[26,8,30,6],[26,12,30,10],[27,10,31,8,"activeClient"],[27,22,31,20],[27,23,31,21,"disconnect"],[27,33,31,31],[27,34,31,32],[27,35,31,33],[28,8,32,6],[28,9,32,7],[28,10,32,8],[28,17,32,15,"e"],[28,18,32,16],[28,20,32,18],[29,10,33,8],[30,8,33,8],[31,8,35,6,"activeClient"],[31,20,35,18],[31,23,35,21],[31,27,35,25],[32,6,36,4],[33,6,38,4,"console"],[33,13,38,11],[33,14,38,12,"log"],[33,17,38,15],[33,18,38,16],[33,37,38,35,"config"],[33,43,38,41],[33,44,38,42,"host"],[33,48,38,46],[33,52,38,50,"config"],[33,58,38,56],[33,59,38,57,"port"],[33,63,38,61],[33,65,38,63],[33,66,38,64],[35,6,40,4],[36,6,41,4],[36,12,41,10,"timeoutPromise"],[36,26,41,24],[36,29,41,27],[36,33,41,31,"Promise"],[36,40,41,38],[36,41,41,50],[36,42,41,51,"_"],[36,43,41,52],[36,45,41,54,"reject"],[36,51,41,60],[36,56,41,65],[37,8,42,6,"setTimeout"],[37,18,42,16],[37,19,42,17],[37,25,42,23],[38,10,43,8,"reject"],[38,16,43,14],[38,17,43,15],[38,21,43,19,"Error"],[38,26,43,24],[38,27,43,25],[38,70,43,68],[38,71,43,69],[38,72,43,70],[39,8,44,6],[39,9,44,7],[39,11,44,9],[39,16,44,14],[39,17,44,15],[40,6,45,4],[40,7,45,5],[40,8,45,6],[42,6,47,4],[43,6,48,4],[43,12,48,10,"sshPromise"],[43,22,48,20],[43,25,48,23],[43,26,48,24],[43,38,48,56],[44,8,49,6],[44,12,49,10],[45,10,50,8],[46,10,51,8],[46,16,51,14,"client"],[46,22,51,20],[46,25,51,23],[46,31,51,29,"SSHClient"],[46,40,51,38],[46,41,51,38,"default"],[46,48,51,38],[46,49,51,39,"connectWithPassword"],[46,68,51,58],[46,69,52,10,"config"],[46,75,52,16],[46,76,52,17,"host"],[46,80,52,21],[46,82,53,10,"config"],[46,88,53,16],[46,89,53,17,"port"],[46,93,53,21],[46,95,54,10,"config"],[46,101,54,16],[46,102,54,17,"username"],[46,110,54,25],[46,112,55,10,"config"],[46,118,55,16],[46,119,55,17,"password"],[46,127,56,8],[46,128,56,9],[47,10,58,8,"activeClient"],[47,22,58,20],[47,25,58,23,"client"],[47,31,58,29],[48,10,59,8,"console"],[48,17,59,15],[48,18,59,16,"log"],[48,21,59,19],[48,22,59,20],[48,70,59,68],[48,71,59,69],[50,10,61,8],[51,10,62,8],[51,16,62,14,"output"],[51,22,62,20],[51,25,62,23],[51,31,62,29,"client"],[51,37,62,35],[51,38,62,36,"execute"],[51,45,62,43],[51,46,62,44,"command"],[51,53,62,51],[51,54,62,52],[52,10,63,8,"console"],[52,17,63,15],[52,18,63,16,"log"],[52,21,63,19],[52,22,63,20],[52,42,63,40],[52,44,63,42,"output"],[52,50,63,48],[52,51,63,49],[54,10,65,8],[55,10,66,8],[55,14,66,12],[56,12,67,10,"client"],[56,18,67,16],[56,19,67,17,"disconnect"],[56,29,67,27],[56,30,67,28],[56,31,67,29],[57,10,68,8],[57,11,68,9],[57,12,68,10],[57,19,68,17,"e"],[57,20,68,18],[57,22,68,20],[58,12,69,10],[59,10,69,10],[60,10,71,8,"activeClient"],[60,22,71,20],[60,25,71,23],[60,29,71,27],[61,10,73,8],[61,17,73,15],[62,12,74,10,"success"],[62,19,74,17],[62,21,74,19],[62,25,74,23],[63,12,75,10,"output"],[63,18,75,16],[63,20,75,18,"output"],[63,26,75,24],[63,30,75,28],[64,10,76,8],[64,11,76,9],[65,8,77,6],[65,9,77,7],[65,10,77,8],[65,17,77,15,"err"],[65,20,77,23],[65,22,77,25],[66,10,78,8],[67,10,79,8],[67,14,79,12,"activeClient"],[67,26,79,24],[67,28,79,26],[68,12,80,10],[68,16,80,14],[69,14,81,12,"activeClient"],[69,26,81,24],[69,27,81,25,"disconnect"],[69,37,81,35],[69,38,81,36],[69,39,81,37],[70,12,82,10],[70,13,82,11],[70,14,82,12],[70,21,82,19,"e"],[70,22,82,20],[70,24,82,22],[71,14,83,12],[72,12,83,12],[73,12,85,10,"activeClient"],[73,24,85,22],[73,27,85,25],[73,31,85,29],[74,10,86,8],[75,10,87,8],[75,16,87,14,"err"],[75,19,87,17],[76,8,88,6],[77,6,89,4],[77,7,89,5],[77,9,89,7],[77,10,89,8],[79,6,91,4],[80,6,92,4],[80,13,92,11],[80,19,92,17,"Promise"],[80,26,92,24],[80,27,92,25,"race"],[80,31,92,29],[80,32,92,30],[80,33,92,31,"sshPromise"],[80,43,92,41],[80,45,92,43,"timeoutPromise"],[80,59,92,57],[80,60,92,58],[80,61,92,59],[81,4,94,2],[81,5,94,3],[81,6,94,4],[81,13,94,11,"err"],[81,16,94,19],[81,18,94,21],[82,6,95,4,"console"],[82,13,95,11],[82,14,95,12,"error"],[82,19,95,17],[82,20,95,18],[82,31,95,29],[82,33,95,31,"err"],[82,36,95,34],[82,37,95,35],[84,6,97,4],[85,6,98,4],[85,10,98,8,"activeClient"],[85,22,98,20],[85,24,98,22],[86,8,99,6],[86,12,99,10],[87,10,100,8,"activeClient"],[87,22,100,20],[87,23,100,21,"disconnect"],[87,33,100,31],[87,34,100,32],[87,35,100,33],[88,8,101,6],[88,9,101,7],[88,10,101,8],[88,17,101,15,"e"],[88,18,101,16],[88,20,101,18],[89,10,102,8],[90,8,102,8],[91,8,104,6,"activeClient"],[91,20,104,18],[91,23,104,21],[91,27,104,25],[92,6,105,4],[93,6,107,4],[93,13,107,11],[94,8,108,6,"success"],[94,15,108,13],[94,17,108,15],[94,22,108,20],[95,8,109,6,"error"],[95,13,109,11],[95,15,109,13,"getErrorMessage"],[95,30,109,28],[95,31,109,29,"err"],[95,34,109,32],[96,6,110,4],[96,7,110,5],[97,4,111,2],[98,2,112,0],[100,2,114,0],[101,2,115,7],[101,11,115,16,"disconnectSSH"],[101,24,115,29,"disconnectSSH"],[101,25,115,29],[101,27,115,38],[102,4,116,2],[102,8,116,6,"activeClient"],[102,20,116,18],[102,22,116,20],[103,6,117,4],[103,10,117,8],[104,8,118,6,"activeClient"],[104,20,118,18],[104,21,118,19,"disconnect"],[104,31,118,29],[104,32,118,30],[104,33,118,31],[105,6,119,4],[105,7,119,5],[105,8,119,6],[105,15,119,13,"e"],[105,16,119,14],[105,18,119,16],[106,8,120,6],[107,6,120,6],[108,6,122,4,"activeClient"],[108,18,122,16],[108,21,122,19],[108,25,122,23],[109,4,123,2],[110,2,124,0],[111,2,126,0],[111,11,126,9,"getErrorMessage"],[111,26,126,24,"getErrorMessage"],[111,27,126,25,"err"],[111,30,126,33],[111,32,126,43],[112,4,127,2],[112,10,127,8,"message"],[112,17,127,15],[112,20,127,18,"err"],[112,23,127,21],[112,25,127,23,"message"],[112,32,127,30],[112,36,127,34,"err"],[112,39,127,37],[112,41,127,39,"toString"],[112,49,127,47],[112,50,127,48],[112,51,127,49],[112,55,127,53],[112,57,127,55],[114,4,129,2],[115,4,130,2],[115,8,130,6,"message"],[115,15,130,13],[115,16,130,14,"includes"],[115,24,130,22],[115,25,130,23],[115,34,130,32],[115,35,130,33],[115,39,130,37,"message"],[115,46,130,44],[115,47,130,45,"includes"],[115,55,130,53],[115,56,130,54],[115,65,130,63],[115,66,130,64],[115,70,130,68,"message"],[115,77,130,75],[115,78,130,76,"includes"],[115,86,130,84],[115,87,130,85],[115,100,130,98],[115,101,130,99],[115,103,130,101],[116,6,131,4],[116,13,131,11],[116,74,131,72],[117,4,132,2],[119,4,134,2],[120,4,135,2],[120,8,135,6,"message"],[120,15,135,13],[120,16,135,14,"includes"],[120,24,135,22],[120,25,135,23],[120,34,135,32],[120,35,135,33],[120,39,135,37,"message"],[120,46,135,44],[120,47,135,45,"includes"],[120,55,135,53],[120,56,135,54],[120,76,135,74],[120,77,135,75],[120,81,135,79,"message"],[120,88,135,86],[120,89,135,87,"includes"],[120,97,135,95],[120,98,135,96],[120,112,135,110],[120,113,135,111],[120,115,135,113],[121,6,136,4],[121,13,136,11],[121,74,136,72],[122,4,137,2],[124,4,139,2],[125,4,140,2],[125,8,140,6,"message"],[125,15,140,13],[125,16,140,14,"includes"],[125,24,140,22],[125,25,140,23],[125,41,140,39],[125,42,140,40],[125,46,140,44,"message"],[125,53,140,51],[125,54,140,52,"includes"],[125,62,140,60],[125,63,140,61],[125,79,140,77],[125,80,140,78],[125,84,141,6,"message"],[125,91,141,13],[125,92,141,14,"includes"],[125,100,141,22],[125,101,141,23],[125,111,141,33],[125,112,141,34],[125,116,141,38,"message"],[125,123,141,45],[125,124,141,46,"includes"],[125,132,141,54],[125,133,141,55],[125,152,141,74],[125,153,141,75],[125,155,141,77],[126,6,142,4],[126,13,142,11],[126,72,142,70],[127,4,143,2],[129,4,145,2],[130,4,146,2],[130,8,146,6,"message"],[130,15,146,13],[130,16,146,14,"includes"],[130,24,146,22],[130,25,146,23],[130,31,146,29],[130,32,146,30],[130,36,146,34,"message"],[130,43,146,41],[130,44,146,42,"includes"],[130,52,146,50],[130,53,146,51],[130,59,146,57],[130,60,146,58],[130,64,147,6,"message"],[130,71,147,13],[130,72,147,14,"includes"],[130,80,147,22],[130,81,147,23],[130,90,147,32],[130,91,147,33],[130,95,147,37,"message"],[130,102,147,44],[130,103,147,45,"includes"],[130,111,147,53],[130,112,147,54],[130,123,147,65],[130,124,147,66],[130,126,147,68],[131,6,148,4],[131,13,148,11],[131,57,148,55],[132,4,149,2],[134,4,151,2],[135,4,152,2],[135,8,152,6,"message"],[135,15,152,13],[135,16,152,14,"includes"],[135,24,152,22],[135,25,152,23],[135,34,152,32],[135,35,152,33],[135,39,152,37,"message"],[135,46,152,44],[135,47,152,45,"includes"],[135,55,152,53],[135,56,152,54],[135,65,152,63],[135,66,152,64],[135,70,153,6,"message"],[135,77,153,13],[135,78,153,14,"includes"],[135,86,153,22],[135,87,153,23],[135,100,153,36],[135,101,153,37],[135,105,153,41,"message"],[135,112,153,48],[135,113,153,49,"includes"],[135,121,153,57],[135,122,153,58],[135,135,153,71],[135,136,153,72],[135,138,153,74],[136,6,154,4],[136,13,154,11],[136,66,154,64],[137,4,155,2],[139,4,157,2],[140,4,158,2],[140,8,158,6,"message"],[140,15,158,13],[140,16,158,14,"includes"],[140,24,158,22],[140,25,158,23],[140,33,158,31],[140,34,158,32],[140,38,158,36,"message"],[140,45,158,43],[140,46,158,44,"includes"],[140,54,158,52],[140,55,158,53],[140,63,158,61],[140,64,158,62],[140,68,158,66,"message"],[140,75,158,73],[140,76,158,74,"includes"],[140,84,158,82],[140,85,158,83],[140,97,158,95],[140,98,158,96],[140,100,158,98],[141,6,159,4],[141,13,159,11],[141,76,159,74],[142,4,160,2],[144,4,162,2],[145,4,163,2],[145,8,163,6,"message"],[145,15,163,13],[145,16,163,14,"includes"],[145,24,163,22],[145,25,163,23],[145,31,163,29],[145,32,163,30],[145,36,163,34,"message"],[145,43,163,41],[145,44,163,42,"includes"],[145,52,163,50],[145,53,163,51],[145,59,163,57],[145,60,163,58],[145,62,163,60],[146,6,164,4],[146,13,164,11],[146,75,164,73],[147,4,165,2],[149,4,167,2],[150,4,168,2],[150,8,168,6,"message"],[150,15,168,13],[150,19,168,17,"message"],[150,26,168,24],[150,27,168,25,"length"],[150,33,168,31],[150,36,168,34],[150,37,168,35],[150,39,168,37],[151,6,169,4],[151,13,169,11,"message"],[151,20,169,18],[152,4,170,2],[153,4,172,2],[153,11,172,9],[153,40,172,38],[154,2,173,0],[155,0,173,1],[155,3]],"functionMap":{"names":["<global>","executeSSHCommand","Promise$argument_0","setTimeout$argument_0","<anonymous>","disconnectSSH","getErrorMessage"],"mappings":"AAA;OCsB;kDCkB;iBCC;ODE;KDC;wBGG;KHyC;CDuB;OKG;CLS;AME;CN+C"},"hasCjsExports":false},"type":"js/module"}]}