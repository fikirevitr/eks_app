{"dependencies":[{"name":"@babel/runtime/helpers/classCallCheck","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"yg7e6laZwmpbIvId5jovq9ugXp8=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/createClass","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"Z6pzkVZ2fvxBLkFTgVVOy4UDj30=","exportNames":["*"],"imports":1}},{"name":"../Utilities/infoLog","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":13,"column":16},"end":{"line":13,"column":47}}],"key":"JOQiliPDxvxpS4qCtoh0JoUHvB4=","exportNames":["*"],"imports":1}},{"name":"invariant","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":14,"column":18},"end":{"line":14,"column":38}}],"key":"oQpL0Es3H146KnQH9ygFeHrzVP4=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,_e,d){'use strict';function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,\"default\",{enumerable:!0,get:function(){return n}});var t=e(r(d[0])),u=e(r(d[1])),s=(r(d[2]).default,r(d[3])),n=(function(){return(0,u.default)(function e(u){var s=u.onMoreTasks;(0,t.default)(this,e),this._onMoreTasks=s,this._queueStack=[{tasks:[],popable:!1}]},[{key:\"enqueue\",value:function(e){this._getCurrentQueue().push(e)}},{key:\"enqueueTasks\",value:function(e){e.forEach(e=>this.enqueue(e))}},{key:\"cancelTasks\",value:function(e){this._queueStack=this._queueStack.map(t=>({...t,tasks:t.tasks.filter(t=>-1===e.indexOf(t))})).filter((e,t)=>e.tasks.length>0||0===t)}},{key:\"hasTasksToProcess\",value:function(){return this._getCurrentQueue().length>0}},{key:\"processNext\",value:function(){var e=this._getCurrentQueue();if(e.length){var t=e.shift();try{'object'==typeof t&&t.gen?this._genPromise(t):'object'==typeof t&&t.run?t.run():(s('function'==typeof t,'Expected Function, SimpleTask, or PromiseTask, but got:\\n'+JSON.stringify(t,null,2)),t())}catch(e){throw e.message='TaskQueue: Error with task '+(t.name||'')+': '+e.message,e}}}},{key:\"_getCurrentQueue\",value:function(){var e=this._queueStack.length-1,t=this._queueStack[e];return t.popable&&0===t.tasks.length&&this._queueStack.length>1?(this._queueStack.pop(),this._getCurrentQueue()):t.tasks}},{key:\"_genPromise\",value:function(e){this._queueStack.push({tasks:[],popable:!1});var t=this._queueStack.length-1,u=this._queueStack[t];e.gen().then(()=>{u.popable=!0,this.hasTasksToProcess()&&this._onMoreTasks()}).catch(t=>{setTimeout(()=>{throw t.message=`TaskQueue: Error resolving Promise in task ${e.name}: ${t.message}`,t},0)})}}])})()});","lineCount":1,"map":[[1,29,11,0],[1,42,11,13],[1,51,11,13,"_interopDefault"],[1,53,11,13,"e"],[1,56,11,13],[1,63,11,13,"e"],[1,68,11,13,"__esModule"],[1,79,11,13,"e"],[1,81,11,13],[1,82,11,13,"default"],[1,90,11,13,"e"],[1,92,11,13],[1,93,11,13,"Object"],[1,100,11,13,"defineProperty"],[1,115,11,13,"_e"],[1,118,11,13],[1,132,11,13,"value"],[1,139,11,13],[1,143,183,0,"Object"],[1,150,183,0,"defineProperty"],[1,165,183,0,"_e"],[1,168,183,0],[1,179,183,0,"enumerable"],[1,191,183,0],[1,193,183,0,"get"],[1,197,183,0],[1,215,183,0,"_default"],[1,216,183,0],[1,220,183,25],[1,224,183,25,"_classCallCheck"],[1,226,183,25,"_interopDefault"],[1,228,183,25,"r"],[1,230,183,25,"d"],[1,232,183,25],[1,237,183,25,"_createClass"],[1,239,183,25,"_interopDefault"],[1,241,183,25,"r"],[1,243,183,25,"d"],[1,245,183,25],[1,250,14,6,"invariant"],[1,253,13,16,"require"],[1,255,13,23,"d"],[1,257,13,23],[1,261,13,48,"default"],[1,269,14,18,"require"],[1,271,14,25,"d"],[1,273,14,25],[1,278,183,0,"_default"],[1,281,44,15],[1,292,55,3],[1,301,55,3,"_createClass"],[1,303,55,3,"default"],[1,312,52,2],[1,321,52,2,"TaskQueue"],[1,323,52,2,"_ref"],[1,326,52,61],[1,330,52,15,"onMoreTasks"],[1,332,52,26,"_ref"],[1,334,52,15,"onMoreTasks"],[1,347,52,26],[1,349,52,26,"_classCallCheck"],[1,351,52,26,"default"],[1,360,52,26,"this"],[1,365,52,26,"TaskQueue"],[1,368,53,4,"this"],[1,373,53,9,"_onMoreTasks"],[1,386,53,24,"onMoreTasks"],[1,388,54,4,"this"],[1,393,54,9,"_queueStack"],[1,405,54,23],[1,406,54,24],[1,407,54,25,"tasks"],[1,413,54,32],[1,416,54,36,"popable"],[1,425,54,45],[1,428,55,2],[1,430,55,3],[1,432,55,3,"key"],[1,436,55,3],[1,446,55,3,"value"],[1,452,62,2],[1,461,62,10,"task"],[1,464,63,4,"this"],[1,469,63,9,"_getCurrentQueue"],[1,488,63,28,"push"],[1,493,63,33,"task"],[1,495,64,2],[1,498,64,3],[1,499,64,3,"key"],[1,503,64,3],[1,518,64,3,"value"],[1,524,66,2],[1,533,66,15,"tasks"],[1,536,67,4,"tasks"],[1,538,67,10,"forEach"],[1,546,67,18,"task"],[1,549,67,26,"this"],[1,554,67,31,"enqueue"],[1,562,67,39,"task"],[1,565,68,2],[1,568,68,3],[1,569,68,3,"key"],[1,573,68,3],[1,587,68,3,"value"],[1,593,70,2],[1,602,70,14,"tasksToCancel"],[1,605,72,4,"this"],[1,610,72,9,"_queueStack"],[1,622,72,23,"this"],[1,627,72,28,"_queueStack"],[1,639,73,7,"map"],[1,643,73,11,"queue"],[1,647,73,16],[1,651,74,11,"queue"],[1,653,75,8,"tasks"],[1,659,75,15,"queue"],[1,661,75,21,"tasks"],[1,667,75,27,"filter"],[1,674,75,34,"task"],[1,678,75,69],[1,682,75,42,"tasksToCancel"],[1,684,75,56,"indexOf"],[1,692,75,64,"task"],[1,699,77,7,"filter"],[1,706,77,14],[1,707,77,15,"queue"],[1,709,77,22,"idx"],[1,713,77,30,"queue"],[1,715,77,36,"tasks"],[1,721,77,42,"length"],[1,728,77,51],[1,731,77,64],[1,735,77,56,"idx"],[1,737,78,2],[1,740,78,3],[1,741,78,3,"key"],[1,745,78,3],[1,765,78,3,"value"],[1,771,90,2],[1,782,91,4],[1,789,91,11,"this"],[1,794,91,16,"_getCurrentQueue"],[1,813,91,35,"length"],[1,820,91,44],[1,821,92,2],[1,824,92,3],[1,825,92,3,"key"],[1,829,92,3],[1,843,92,3,"value"],[1,849,97,2],[1,860,98,4],[1,864,98,10,"queue"],[1,866,98,18,"this"],[1,871,98,23,"_getCurrentQueue"],[1,890,99,4],[1,893,99,8,"queue"],[1,895,99,14,"length"],[1,902,99,22],[1,903,100,6],[1,907,100,12,"task"],[1,909,100,19,"queue"],[1,911,100,25,"shift"],[1,919,101,6],[1,923,102,28],[1,940,102,19,"task"],[1,943,102,40,"task"],[1,945,102,45,"gen"],[1,949,104,10,"this"],[1,954,104,15,"_genPromise"],[1,966,104,27,"task"],[1,969,105,35],[1,986,105,26,"task"],[1,989,105,47,"task"],[1,991,105,52,"run"],[1,995,107,10,"task"],[1,997,107,15,"run"],[1,1004,109,10,"invariant"],[1,1006,110,28],[1,1025,110,19,"task"],[1,1027,111,12],[1,1087,112,14,"JSON"],[1,1092,112,19,"stringify"],[1,1102,112,29,"task"],[1,1104,112,35],[1,1109,112,41],[1,1113,115,10,"task"],[1,1117,117,6],[1,1118,117,8],[1,1124,117,15,"e"],[1,1127,121,8],[1,1133,118,8,"e"],[1,1135,118,10,"message"],[1,1143,120,10],[1,1174,120,43,"task"],[1,1176,120,48,"name"],[1,1182,120,56],[1,1186,120,62],[1,1191,120,69,"e"],[1,1193,120,71,"message"],[1,1201,121,14,"e"],[1,1202,122,6],[1,1203,123,4],[1,1204,124,2],[1,1207,124,3],[1,1208,124,3,"key"],[1,1212,124,3],[1,1231,124,3,"value"],[1,1237,133,2],[1,1248,134,4],[1,1252,134,10,"stackIdx"],[1,1254,134,21,"this"],[1,1259,134,26,"_queueStack"],[1,1271,134,38,"length"],[1,1278,134,47],[1,1280,135,10,"queue"],[1,1282,135,18,"this"],[1,1287,135,23,"_queueStack"],[1,1299,135,35,"stackIdx"],[1,1302,136,4],[1,1309,137,6,"queue"],[1,1311,137,12,"popable"],[1,1320,138,29],[1,1324,138,6,"queue"],[1,1326,138,12,"tasks"],[1,1332,138,18,"length"],[1,1340,139,6,"this"],[1,1345,139,11,"_queueStack"],[1,1357,139,23,"length"],[1,1364,139,32],[1,1367,141,6,"this"],[1,1372,141,11,"_queueStack"],[1,1384,141,23,"pop"],[1,1390,147,13,"this"],[1,1395,147,18,"_getCurrentQueue"],[1,1415,149,13,"queue"],[1,1417,149,19,"tasks"],[1,1422,151,2],[1,1425,151,3],[1,1426,151,3,"key"],[1,1430,151,3],[1,1444,151,3,"value"],[1,1450,153,2],[1,1459,153,14,"task"],[1,1462,158,4,"this"],[1,1467,158,9,"_queueStack"],[1,1479,158,21,"push"],[1,1484,158,26],[1,1485,158,27,"tasks"],[1,1491,158,34],[1,1494,158,38,"popable"],[1,1503,158,47],[1,1507,159,4],[1,1511,159,10,"stackIdx"],[1,1513,159,21,"this"],[1,1518,159,26,"_queueStack"],[1,1530,159,38,"length"],[1,1537,159,47],[1,1539,160,10,"stackItem"],[1,1541,160,22,"this"],[1,1546,160,27,"_queueStack"],[1,1558,160,39,"stackIdx"],[1,1561,163,4,"task"],[1,1563,164,7,"gen"],[1,1569,165,7,"then"],[1,1574,165,12],[1,1579,171,8,"stackItem"],[1,1581,171,18,"popable"],[1,1590,171,28],[1,1592,172,8,"this"],[1,1597,172,13,"hasTasksToProcess"],[1,1618,172,36,"this"],[1,1623,172,41,"_onMoreTasks"],[1,1640,174,7,"catch"],[1,1646,174,13,"ex"],[1,1650,175,8,"setTimeout"],[1,1661,175,19],[1,1666,177,10],[1,1672,176,10,"ex"],[1,1674,176,13,"message"],[1,1682,176,23],[1,1728,176,69,"task"],[1,1730,176,74,"name"],[1,1739,176,83,"ex"],[1,1741,176,86,"message"],[1,1751,177,16,"ex"],[1,1754,178,11],[1,1758,180,2],[1,1762,180,3],[1,1764,44,15],[1,1766,183,25],[1,1769]],"functionMap":{"names":["<global>","TaskQueue","constructor","enqueue","enqueueTasks","tasks.forEach$argument_0","cancelTasks","_queueStack.map$argument_0","queue.tasks.filter$argument_0","_queueStack.map.filter$argument_0","hasTasksToProcess","processNext","_getCurrentQueue","_genPromise","task.gen.then$argument_0","task.gen.then._catch$argument_0","setTimeout$argument_0"],"mappings":"AAA;AC2C;ECQ;GDG;EEO;GFE;EGE;kBCC,0BD;GHC;EKE;WCG;kCCE,0CD;QDC;cGC,mDH;GLC;ESY;GTE;EUK;GV2B;EWS;GXkB;EYE;YCY;ODQ;aEC;mBCC;SDG;OFC;GZC;CDC"},"hasCjsExports":false},"type":"js/module"}]}