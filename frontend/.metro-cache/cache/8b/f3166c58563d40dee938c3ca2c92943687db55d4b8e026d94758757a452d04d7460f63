{"dependencies":[{"name":"@babel/runtime/helpers/classCallCheck","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"yg7e6laZwmpbIvId5jovq9ugXp8=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/createClass","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"Z6pzkVZ2fvxBLkFTgVVOy4UDj30=","exportNames":["*"],"imports":1}},{"name":"../keyframes","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":8,"column":0,"index":197},"end":{"line":8,"column":74,"index":271}}],"key":"mxvMhs55oq9jgpEsSFkkE4J0Ers=","exportNames":["*"],"imports":1}},{"name":"../normalization","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":9,"column":0,"index":272},"end":{"line":13,"column":26,"index":415}}],"key":"qzlZGcgXwl9ZPF9i7tZ8rdYWgeY=","exportNames":["*"],"imports":1}},{"name":"../proxy","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":14,"column":0,"index":416},"end":{"line":14,"column":71,"index":487}}],"key":"7t6p+wFqa3TKNDAU+WlzybERgtk=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function(g,r,_i,a,m,_e,d){'use strict';function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,\"default\",{enumerable:!0,get:function(){return u}});var t=e(r(d[0])),i=e(r(d[1])),n=r(d[2]),s=r(d[3]),o=r(d[4]),u=(function(){return(0,i.default)(function e(i,n,s){(0,t.default)(this,e),this.attachedAnimations=[],this.shadowNodeWrapper=i,this.viewName=n,this.viewTag=s},[{key:\"update\",value:function(e){if(e){var t=this.processAnimations(e);this.registerKeyframesUsage(t);var i=this.getAnimationUpdates(t);if(this.attachedAnimations=t,i){if(i.animationNames&&0===i.animationNames.length)return void this.detach();(0,o.applyCSSAnimations)(this.shadowNodeWrapper,i)}}else this.detach()}},{key:\"unmountCleanup\",value:function(){this.unregisterKeyframesUsage()}},{key:\"detach\",value:function(){this.attachedAnimations.length>0&&((0,o.unregisterCSSAnimations)(this.viewTag),this.unregisterKeyframesUsage(),this.attachedAnimations=[])}},{key:\"registerKeyframesUsage\",value:function(e){var t=new Set;e.forEach(e=>{var i=e.keyframesRule;n.cssKeyframesRegistry.add(i,this.viewName,this.viewTag),t.add(i.name)}),this.attachedAnimations.forEach(e=>{var i=e.keyframesRule.name;t.has(i)||n.cssKeyframesRegistry.remove(i,this.viewName,this.viewTag)})}},{key:\"unregisterKeyframesUsage\",value:function(){this.attachedAnimations.forEach(e=>{var t=e.keyframesRule.name;n.cssKeyframesRegistry.remove(t,this.viewName,this.viewTag)})}},{key:\"processAnimations\",value:function(e){return(0,s.createSingleCSSAnimationProperties)(e).map(e=>{var t,i=e.animationName;if(i instanceof n.CSSKeyframesRuleImpl)t=i;else{var o=JSON.stringify(i);t=n.cssKeyframesRegistry.get(o)??new n.CSSKeyframesRuleImpl(i,o)}return{normalizedSettings:(0,s.normalizeSingleCSSAnimationSettings)(e),keyframesRule:t}})}},{key:\"buildAnimationsMap\",value:function(e){return e.reduceRight((e,t)=>{var i=t.keyframesRule.name;return e[i]?e[i].push(t):e[i]=[t],e},{})}},{key:\"getAnimationUpdates\",value:function(e){var t={},i={},n=this.attachedAnimations.length!==e.length,o=!1,u=!1,h=this.buildAnimationsMap(this.attachedAnimations);e.forEach((e,f)=>{var l=e.keyframesRule,c=e.normalizedSettings,v=h[l.name]?.pop();if(!v)return o=!0,n=!0,void(t[f]=c);var y=(0,s.getAnimationSettingsUpdates)(v.normalizedSettings,c);Object.keys(y).length>0&&(u=!0,i[f]=y),v.keyframesRule.name!==l.name&&(n=!0)});var f={};return n&&(f.animationNames=e.map(e=>e.keyframesRule.name)),o&&(f.newAnimationSettings=t),u&&(f.settingsUpdates=i),o||u||n?f:null}}])})()});","lineCount":1,"map":[[1,30,1,0],[1,43,1,13],[1,52,1,13,"_interopDefault"],[1,54,1,13,"e"],[1,57,1,13],[1,64,1,13,"e"],[1,69,1,13,"__esModule"],[1,80,1,13,"e"],[1,82,1,13],[1,83,1,13,"default"],[1,91,1,13,"e"],[1,93,1,13],[1,94,1,13,"Object"],[1,101,1,13,"defineProperty"],[1,116,1,13,"_e"],[1,119,1,13],[1,133,1,13,"value"],[1,140,1,13],[1,144,1,13,"Object"],[1,151,1,13,"defineProperty"],[1,166,1,13,"_e"],[1,169,1,13],[1,180,1,13,"enumerable"],[1,192,1,13],[1,194,1,13,"get"],[1,198,1,13],[1,216,25,21,"CSSAnimationsManager"],[1,217,25,41],[1,225,25,41,"_classCallCheck"],[1,227,25,41,"_interopDefault"],[1,229,25,41,"r"],[1,231,25,41,"d"],[1,233,25,41],[1,238,25,41,"_createClass"],[1,240,25,41,"_interopDefault"],[1,242,25,41,"r"],[1,244,25,41,"d"],[1,246,25,41],[1,251,8,0,"_keyframes"],[1,253,8,0,"r"],[1,255,8,0,"d"],[1,257,8,0],[1,261,9,0,"_normalization"],[1,263,9,0,"r"],[1,265,9,0,"d"],[1,267,9,0],[1,271,14,0,"_proxy"],[1,273,14,0,"r"],[1,275,14,0,"d"],[1,277,14,0],[1,281,25,21,"CSSAnimationsManager"],[1,284,25,41],[1,295,40,3],[1,304,40,3,"_createClass"],[1,306,40,3,"default"],[1,315,32,2],[1,324,32,2,"CSSAnimationsManager"],[1,326,33,4,"shadowNodeWrapper"],[1,328,34,4,"viewName"],[1,330,35,4,"viewTag"],[1,334,36,4],[1,336,36,4,"_classCallCheck"],[1,338,36,4,"default"],[1,347,36,4,"this"],[1,352,36,4,"CSSAnimationsManager"],[1,355,36,4,"this"],[1,360,30,10,"attachedAnimations"],[1,379,30,53],[1,382,37,4,"this"],[1,387,37,9,"shadowNodeWrapper"],[1,405,37,29,"shadowNodeWrapper"],[1,407,38,4,"this"],[1,412,38,9,"viewName"],[1,421,38,20,"viewName"],[1,423,39,4,"this"],[1,428,39,9,"viewTag"],[1,436,39,19,"viewTag"],[1,437,40,2],[1,439,40,3],[1,441,40,3,"key"],[1,445,40,3],[1,454,40,3,"value"],[1,460,42,2],[1,469,42,9,"animationProperties"],[1,472,43,4],[1,475,43,9,"animationProperties"],[1,477,43,4],[1,478,48,4],[1,482,48,10,"processedAnimations"],[1,484,48,32,"this"],[1,489,48,37,"processAnimations"],[1,507,48,55,"animationProperties"],[1,510,49,4,"this"],[1,515,49,9,"registerKeyframesUsage"],[1,538,49,32,"processedAnimations"],[1,541,51,4],[1,545,51,10,"animationUpdates"],[1,547,51,29,"this"],[1,552,51,34,"getAnimationUpdates"],[1,572,51,54,"processedAnimations"],[1,575,54,4],[1,578,52,4,"this"],[1,583,52,9,"attachedAnimations"],[1,602,52,30,"processedAnimations"],[1,604,54,8,"animationUpdates"],[1,606,54,26],[1,607,55,6],[1,610,56,8,"animationUpdates"],[1,612,56,25,"animationNames"],[1,628,57,51],[1,632,57,8,"animationUpdates"],[1,634,57,25,"animationNames"],[1,649,57,40,"length"],[1,656,60,8],[1,668,59,8,"this"],[1,673,59,13,"detach"],[1,683,63,6],[1,685,63,6,"applyCSSAnimations"],[1,687,63,24,"applyCSSAnimations"],[1,707,63,25,"this"],[1,712,63,30,"shadowNodeWrapper"],[1,730,63,49,"animationUpdates"],[1,732,64,4],[1,733,46,4],[1,739,44,6,"this"],[1,744,44,11,"detach"],[1,752,65,2],[1,755,65,3],[1,756,65,3,"key"],[1,760,65,3],[1,777,65,3,"value"],[1,783,67,2],[1,794,68,4,"this"],[1,799,68,9,"unregisterKeyframesUsage"],[1,825,69,2],[1,828,69,3],[1,829,69,3,"key"],[1,833,69,3],[1,842,69,3,"value"],[1,848,71,2],[1,859,72,8,"this"],[1,864,72,13,"attachedAnimations"],[1,883,72,32,"length"],[1,890,72,41],[1,895,73,6],[1,897,73,6,"unregisterCSSAnimations"],[1,899,73,29,"unregisterCSSAnimations"],[1,924,73,30,"this"],[1,929,73,35,"viewTag"],[1,938,74,6,"this"],[1,943,74,11,"unregisterKeyframesUsage"],[1,970,75,6,"this"],[1,975,75,11,"attachedAnimations"],[1,994,75,32],[1,997,77,2],[1,1000,77,3],[1,1001,77,3,"key"],[1,1005,77,3],[1,1030,77,3,"value"],[1,1036,79,2],[1,1045,79,33,"processedAnimations"],[1,1048,80,4],[1,1052,80,10,"newAnimationNames"],[1,1054,80,30],[1,1058,80,34,"Set"],[1,1062,83,4,"processedAnimations"],[1,1064,83,24,"forEach"],[1,1072,83,32,"_ref"],[1,1076,83,55],[1,1080,83,35,"keyframesRule"],[1,1082,83,48,"_ref"],[1,1084,83,35,"keyframesRule"],[1,1098,84,6,"cssKeyframesRegistry"],[1,1100,84,26,"cssKeyframesRegistry"],[1,1121,84,27,"add"],[1,1125,84,31,"keyframesRule"],[1,1127,84,46,"this"],[1,1132,84,51,"viewName"],[1,1141,84,61,"this"],[1,1146,84,66,"viewTag"],[1,1155,85,6,"newAnimationNames"],[1,1157,85,24,"add"],[1,1161,85,28,"keyframesRule"],[1,1163,85,42,"name"],[1,1171,90,4,"this"],[1,1176,90,9,"attachedAnimations"],[1,1195,90,28,"forEach"],[1,1203,90,36,"_ref2"],[1,1207,90,69],[1,1211,90,56,"name"],[1,1213,90,60,"_ref2"],[1,1215,90,39,"keyframesRule"],[1,1229,90,56,"name"],[1,1234,91,11,"newAnimationNames"],[1,1236,91,29,"has"],[1,1240,91,33,"name"],[1,1244,92,8,"cssKeyframesRegistry"],[1,1246,92,28,"cssKeyframesRegistry"],[1,1267,92,29,"remove"],[1,1274,92,36,"name"],[1,1276,92,42,"this"],[1,1281,92,47,"viewName"],[1,1290,92,57,"this"],[1,1295,92,62,"viewTag"],[1,1305,95,2],[1,1308,95,3],[1,1309,95,3,"key"],[1,1313,95,3],[1,1340,95,3,"value"],[1,1346,97,2],[1,1357,100,4,"this"],[1,1362,100,9,"attachedAnimations"],[1,1381,100,28,"forEach"],[1,1389,100,36,"_ref3"],[1,1393,100,69],[1,1397,100,56,"name"],[1,1399,100,60,"_ref3"],[1,1401,100,39,"keyframesRule"],[1,1415,100,56,"name"],[1,1420,101,6,"cssKeyframesRegistry"],[1,1422,101,26,"cssKeyframesRegistry"],[1,1443,101,27,"remove"],[1,1450,101,34,"name"],[1,1452,101,40,"this"],[1,1457,101,45,"viewName"],[1,1466,101,55,"this"],[1,1471,101,60,"viewTag"],[1,1481,103,2],[1,1484,103,3],[1,1485,103,3,"key"],[1,1489,103,3],[1,1509,103,3,"value"],[1,1515,105,2],[1,1524,106,4,"animationProperties"],[1,1527,145,4],[1,1534,109,6],[1,1536,109,6,"createSingleCSSAnimationProperties"],[1,1538,109,40,"createSingleCSSAnimationProperties"],[1,1574,109,41,"animationProperties"],[1,1577,111,63,"map"],[1,1581,112,7,"properties"],[1,1585,113,8],[1,1589,114,12,"keyframesRule"],[1,1591,113,14,"keyframes"],[1,1593,113,26,"properties"],[1,1595,113,37,"animationName"],[1,1609,116,8],[1,1612,116,12,"keyframes"],[1,1625,116,33,"CSSKeyframesRuleImpl"],[1,1627,116,53,"CSSKeyframesRuleImpl"],[1,1648,121,10,"keyframesRule"],[1,1650,121,26,"keyframes"],[1,1656,122,15],[1,1657,129,10],[1,1661,129,16,"cssText"],[1,1663,129,26,"JSON"],[1,1668,129,31,"stringify"],[1,1678,129,41,"keyframes"],[1,1681,130,10,"keyframesRule"],[1,1683,131,12,"cssKeyframesRegistry"],[1,1685,131,32,"cssKeyframesRegistry"],[1,1706,131,33,"get"],[1,1710,131,37,"cssText"],[1,1714,132,12],[1,1718,132,16,"CSSKeyframesRuleImpl"],[1,1720,132,36,"CSSKeyframesRuleImpl"],[1,1741,133,14,"keyframes"],[1,1743,134,14,"cssText"],[1,1745,136,8],[1,1746,138,8],[1,1752,138,15],[1,1753,139,10,"normalizedSettings"],[1,1773,139,30],[1,1775,139,30,"normalizeSingleCSSAnimationSettings"],[1,1777,139,65,"normalizeSingleCSSAnimationSettings"],[1,1814,139,66,"properties"],[1,1817,140,10,"keyframesRule"],[1,1835,146,2],[1,1838,146,3],[1,1839,146,3,"key"],[1,1843,146,3],[1,1864,146,3,"value"],[1,1870,148,2],[1,1879,148,29,"animations"],[1,1882,151,4],[1,1889,151,11,"animations"],[1,1891,151,22,"reduceRight"],[1,1903,152,6],[1,1904,152,7,"acc"],[1,1906,152,12,"animation"],[1,1911,153,8],[1,1915,153,14,"name"],[1,1917,153,21,"animation"],[1,1919,153,31,"keyframesRule"],[1,1933,153,45,"name"],[1,1938,159,8],[1,1945,154,13,"acc"],[1,1947,154,17,"name"],[1,1950,157,10,"acc"],[1,1952,157,14,"name"],[1,1955,157,20,"push"],[1,1960,157,25,"animation"],[1,1963,155,10,"acc"],[1,1965,155,14,"name"],[1,1968,155,22],[1,1969,155,23,"animation"],[1,1972,159,15,"acc"],[1,1975,161,6],[1,1976,161,7],[1,1978,163,2],[1,1981,163,3],[1,1982,163,3,"key"],[1,1986,163,3],[1,2008,163,3,"value"],[1,2014,165,2],[1,2023,166,4,"processedAnimations"],[1,2026,168,4],[1,2030,168,10,"newAnimationSettings"],[1,2032,171,8],[1,2033,171,9],[1,2035,172,10,"settingsUpdates"],[1,2037,175,8],[1,2038,175,9],[1,2040,177,8,"animationsArrayChanged"],[1,2042,178,6,"this"],[1,2047,178,11,"attachedAnimations"],[1,2066,178,30,"length"],[1,2075,178,41,"processedAnimations"],[1,2077,178,61,"length"],[1,2084,179,8,"hasNewAnimations"],[1,2087,179,27],[1,2089,180,8,"hasSettingsUpdates"],[1,2092,180,29],[1,2094,182,10,"oldAnimations"],[1,2096,182,26,"this"],[1,2101,182,31,"buildAnimationsMap"],[1,2120,182,50,"this"],[1,2125,182,55,"attachedAnimations"],[1,2145,184,4,"processedAnimations"],[1,2147,184,24,"forEach"],[1,2155,184,32],[1,2156,184,32,"_ref4"],[1,2158,184,72,"i"],[1,2163,184,78],[1,2167,184,35,"keyframesRule"],[1,2169,184,48,"_ref4"],[1,2171,184,35,"keyframesRule"],[1,2185,184,50,"normalizedSettings"],[1,2187,184,68,"_ref4"],[1,2189,184,50,"normalizedSettings"],[1,2208,185,12,"oldAnimation"],[1,2210,185,27,"oldAnimations"],[1,2212,185,41,"keyframesRule"],[1,2214,185,55,"name"],[1,2221,185,62,"pop"],[1,2227,187,6],[1,2231,187,11,"oldAnimation"],[1,2233,191,8],[1,2240,188,8,"hasNewAnimations"],[1,2243,188,27],[1,2245,189,8,"animationsArrayChanged"],[1,2248,189,33],[1,2255,190,8,"newAnimationSettings"],[1,2257,190,29,"i"],[1,2260,190,34,"normalizedSettings"],[1,2263,194,6],[1,2267,194,12,"updates"],[1,2270,194,22],[1,2272,194,22,"getAnimationSettingsUpdates"],[1,2274,194,49,"getAnimationSettingsUpdates"],[1,2303,195,8,"oldAnimation"],[1,2305,195,21,"normalizedSettings"],[1,2324,196,8,"normalizedSettings"],[1,2327,199,10,"Object"],[1,2334,199,17,"keys"],[1,2339,199,22,"updates"],[1,2342,199,31,"length"],[1,2349,199,40],[1,2353,200,8,"hasSettingsUpdates"],[1,2356,200,29],[1,2358,201,8,"settingsUpdates"],[1,2360,201,24,"i"],[1,2363,201,29,"updates"],[1,2366,204,10,"oldAnimation"],[1,2368,204,23,"keyframesRule"],[1,2382,204,37,"name"],[1,2389,204,46,"keyframesRule"],[1,2391,204,60,"name"],[1,2398,205,8,"animationsArrayChanged"],[1,2401,205,33],[1,2406,209,4],[1,2410,209,10,"result"],[1,2412,209,40],[1,2413,209,41],[1,2415,222,4],[1,2422,210,8,"animationsArrayChanged"],[1,2426,211,6,"result"],[1,2428,211,13,"animationNames"],[1,2443,211,30,"processedAnimations"],[1,2445,211,50,"map"],[1,2449,212,8,"_ref5"],[1,2452,212,24,"_ref5"],[1,2454,212,11,"keyframesRule"],[1,2468,212,45,"name"],[1,2475,215,8,"hasNewAnimations"],[1,2479,216,6,"result"],[1,2481,216,13,"newAnimationSettings"],[1,2502,216,36,"newAnimationSettings"],[1,2505,218,8,"hasSettingsUpdates"],[1,2509,219,6,"result"],[1,2511,219,13,"settingsUpdates"],[1,2527,219,31,"settingsUpdates"],[1,2530,222,8,"hasNewAnimations"],[1,2533,222,28,"hasSettingsUpdates"],[1,2536,222,50,"animationsArrayChanged"],[1,2538,223,13,"result"],[1,2540,226,11],[1,2544,227,2],[1,2548,227,3],[1,2550,25,41],[1,2552,227,3],[1,2555]],"functionMap":{"names":["<global>","CSSAnimationsManager","constructor","update","unmountCleanup","detach","registerKeyframesUsage","processedAnimations.forEach$argument_0","attachedAnimations.forEach$argument_0","unregisterKeyframesUsage","processAnimations","singleAnimationPropertiesArray.map$argument_0","buildAnimationsMap","animations.reduceRight$argument_0","getAnimationUpdates","processedAnimations.map$argument_0"],"mappings":"AAA;eCwB;ECO;GDQ;EEE;GFuB;EGE;GHE;EIE;GJM;EKE;gCCI;KDG;oCEI;KFI;GLC;EQE;oCDG;KCE;GRC;ESE;MCO;OD8B;GTI;EWE;MCI;ODQ;GXG;EaE;gCPmB;KOuB;QCK,yCD;Gbe;CDC"},"hasCjsExports":false},"type":"js/module"}]}